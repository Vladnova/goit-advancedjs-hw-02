{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  form: document.querySelector('.form'),\n};\n\nrefs.form.addEventListener('submit', handlerSubmit);\n\nfunction handlerSubmit(e) {\n  e.preventDefault();\n\n  const resultData = {};\n\n  const formData = new FormData(refs.form);\n\n  formData.forEach((value, key) => (resultData[key] = +value));\n\n  let { delay, step, amount } = resultData;\n\n  for (let i = 1; i <= amount; i += 1) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n        iziToast.success({\n          title: 'OK',\n          message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n          position: 'topRight',\n        });\n      })\n      .catch(({ position, delay }) => {\n        iziToast.error({\n          title: 'Error',\n          message: `❌ Rejected promise ${position} in ${delay}ms`,\n          position: 'topRight',\n        });\n      });\n\n    delay += step;\n  }\n\n  refs.form.reset()\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((response, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        response({ position, delay });\n      } else {\n        reject({ position, delay });\n      }\n    }, delay);\n  });\n}\n\n"],"names":["refs","handlerSubmit","e","resultData","value","key","delay","step","amount","i","createPromise","position","iziToast","shouldResolve","response","reject"],"mappings":"wIAGA,MAAMA,EAAO,CACX,KAAM,SAAS,cAAc,OAAO,CACtC,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,CAAa,EAElD,SAASA,EAAcC,EAAG,CACxBA,EAAE,eAAc,EAEhB,MAAMC,EAAa,CAAA,EAEF,IAAI,SAASH,EAAK,IAAI,EAE9B,QAAQ,CAACI,EAAOC,IAASF,EAAWE,GAAO,CAACD,CAAM,EAE3D,GAAI,CAAE,MAAAE,EAAO,KAAAC,EAAM,OAAAC,CAAM,EAAKL,EAE9B,QAASM,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAChCC,EAAcD,EAAGH,CAAK,EACnB,KAAK,CAAC,CAAE,SAAAK,EAAU,MAAAL,KAAY,CAC7BM,EAAS,QAAQ,CACf,MAAO,KACP,QAAS,uBAAuBD,QAAeL,MAC/C,SAAU,UACpB,CAAS,CACT,CAAO,EACA,MAAM,CAAC,CAAE,SAAAK,EAAU,MAAAL,KAAY,CAC9BM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,sBAAsBD,QAAeL,MAC9C,SAAU,UACpB,CAAS,CACT,CAAO,EAEHA,GAASC,EAGXP,EAAK,KAAK,MAAO,CACnB,CAEA,SAASU,EAAcC,EAAUL,EAAO,CACtC,MAAMO,EAAgB,KAAK,OAAM,EAAK,GAEtC,OAAO,IAAI,QAAQ,CAACC,EAAUC,IAAW,CACvC,WAAW,IAAM,CACXF,EACFC,EAAS,CAAE,SAAAH,EAAU,MAAAL,CAAK,CAAE,EAE5BS,EAAO,CAAE,SAAAJ,EAAU,MAAAL,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CAAG,CACH"}